(()=>{"use strict";var e,t={135:(e,t,n)=>{const a=window.wp.blocks,l=window.wp.element,r=window.wp.blockEditor,o=window.wp.components,s=window.wp.apiFetch;var i=n.n(s);const c=window.wp.data;(0,a.registerBlockType)("qms4/monthly-posts",{edit:function(e){let{attributes:t,setAttributes:n}=e;const{postType:a}=t,s=[{disabled:!0,label:"投稿タイプを選択",value:""},...(0,c.useSelect)((e=>e("core").getPostTypes({per_page:-1})||[]),[]).filter((e=>e.viewable)).map((e=>({label:e.name,value:e.slug})))],u=(new Date).getFullYear(),[m,p,d,v]=function(e,t){t=null==t?(new Date).getFullYear():t;const[n,a]=(0,l.useState)(t),[r,o]=(0,l.useState)([]),s=(0,l.useCallback)((()=>a((e=>e-1))),[]),c=(0,l.useCallback)((()=>a((e=>e+1))),[]);return(0,l.useEffect)((()=>{(async()=>{if(!e)return;const t=await i()({path:`/qms4/v1/monthly-posts/${e}/${n}/`});o(t)})()}),[e,n]),[n,r,s,c]}(a,u),w=(0,r.useBlockProps)({className:"widget qms4__monthly-posts"});return(0,l.createElement)("div",w,(0,l.createElement)(r.InspectorControls,null,(0,l.createElement)(o.PanelBody,null,(0,l.createElement)(o.SelectControl,{label:"投稿タイプ",value:a,options:s,onChange:e=>n({postType:e})}))),(0,l.createElement)("div",{className:"widget__main"},(0,l.createElement)("div",{className:"widget__main-nav"},(0,l.createElement)("div",{className:"widget__main-prev"},(0,l.createElement)("button",{type:"button",onClick:d},"prev")),(0,l.createElement)("div",{className:"widget__main-year"},m),(0,l.createElement)("div",{className:"widget__main-next"},m<u&&(0,l.createElement)("button",{type:"button",onClick:v},"next"))),(0,l.createElement)("ul",{className:"widget__main-month"},p.map((e=>{let{month:t,count:n}=e;return(0,l.createElement)("li",null,(0,l.createElement)("span",null,t,"月（",n,"）"))})))))},save:function(){return null}})}},n={};function a(e){var l=n[e];if(void 0!==l)return l.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,a),r.exports}a.m=t,e=[],a.O=(t,n,l,r)=>{if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],l=e[u][1],r=e[u][2];for(var s=!0,i=0;i<n.length;i++)(!1&r||o>=r)&&Object.keys(a.O).every((e=>a.O[e](n[i])))?n.splice(i--,1):(s=!1,r<o&&(o=r));if(s){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,l,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={3696:0,6582:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var l,r,o=n[0],s=n[1],i=n[2],c=0;if(o.some((t=>0!==e[t]))){for(l in s)a.o(s,l)&&(a.m[l]=s[l]);if(i)var u=i(a)}for(t&&t(n);c<o.length;c++)r=o[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},n=self.webpackChunkqms4=self.webpackChunkqms4||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=a.O(void 0,[6582],(()=>a(135)));l=a.O(l)})();